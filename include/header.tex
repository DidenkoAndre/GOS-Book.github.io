%document information
\documentclass[a5paper,openany,9pt]{extbook} %главы начинаются с любой страницы

%\documentclass[a5paper,9pt]{extbook}  %главы начинаются с нечетных страниц, часто создавая пустые страницы

%\documentclass[10pt,a4paper]{book} %а4 большой формат.

% packages
\usepackage{cmap}
\usepackage[T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
 
\usepackage{indentfirst} 
\usepackage{amsmath,amssymb,amscd,amsthm} 				

\usepackage{blkarray}		
\usepackage{multicol}
\usepackage{multirow}		
%\usepackage{hhline}
\usepackage{longtable}
\usepackage{array}
\usepackage{ragged2e}


\newcolumntype{A}[2]{%
    >{\minipage{\dimexpr#1\linewidth-2\tabcolsep-#2\arrayrulewidth\relax}\vspace\tabcolsep}%
    c<{\RaggedRight\vspace\tabcolsep\endminipage}}

\newcolumntype{B}[2]{%
    >{\minipage{\dimexpr#1\linewidth-2\tabcolsep-#2\arrayrulewidth\relax}\vspace\tabcolsep}%
    c<{\centering\vspace\tabcolsep\endminipage}}

\usepackage{fontawesome}

%\usepackage[margin=1.6cm, top=1.2cm,right=1.6cm,left=2.2cm, footskip = 1 cm, headheight=20pt,headsep=0.2cm]{geometry}

%FOR PRINTING OUTPUT VERSION you should uncomment next statement.
\usepackage[margin=1.6cm, top=1.2cm,right=1.9cm,left=1.9cm, footskip = 1 cm, headheight=20pt,headsep=0.2cm]{geometry}
\usepackage{emptypage}

\usepackage{epigraph}
\usepackage{tikz}
%\usepackage{cancel}
\usepackage[e]{esvect}		
													
\usepackage{xcolor}
\definecolor{darkblue}{rgb}{0,0,.6}
\definecolor{Purplemountainmajesty}{RGB}{150, 120, 182}

\usepackage{datetime}
%\usepackage{lipsum}

%\usepackage{enumitem}
%\setlist{nosep}
     
%\forloop[hstepi]{hcounter i}{hinitial valuei}{hconditioni}{hcodei}
\usepackage{forloop}
%\newcounter{ct}
%\forloop{ct}{1}{\value{ct} < 10}{\arabic{ct} \\}

\usepackage{framed}

%Фиолетовая линия сбоку. 
\renewenvironment{leftbar}[1][\hsize]
{%
    \def\FrameCommand
    {%
        {\color{Purplemountainmajesty}\vrule width 1.35pt}%
        \hspace{5pt}%must no space.
        %\fboxsep=\FrameSep\colorbox{#3FORCOLOR}%
    }%
    \MakeFramed{\hsize#1\advance\hsize-\width\FrameRestore}%
}
{\endMakeFramed}

  
\input{include/wrapping}

%https://www.ctan.org/pkg/minitoc
%Чтобы создавать минисодержания, например, после partpage в формулах
\usepackage{minitoc}
    
\usepackage{titlesec, titletoc}
\titleformat{\chapter}[display]
  {\raggedright\normalfont\Large\bfseries}{\chaptertitlename\thechapter}{2ex}{}

\titleformat{\section}
  {\normalfont\Large\bfseries}{\thesection.}{1em}{}
\renewcommand{\thesection}{\textsection\arabic{section}}
\titlecontents{section}[2.7em]{\addvspace{0.5ex}}%
 {\contentslabel[\thecontentslabel.]{1.25em}\hskip0.8em}%numbered
 {}%numberless%
 {\enspace\titlerule*[0.7pc]{.}\contentspage}%

\renewcommand{\thesubsection}{\arabic{section}.\arabic{subsection}.}

\usepackage{fancyhdr}
  \pagestyle{fancy}
\fancyfoot[C]{\thepage}
\fancyhead{}
\fancyhead [CE] {\nouppercase{\slshape \small \rightmark}}
\fancyhead [CO] {\nouppercase{\slshape \small \leftmark}}
\renewcommand{\chaptermark}[1]{%
 \markboth{\ifnum\value{secnumdepth}>-1 \chaptertitlename\thechapter \fi}{}%
}

\makeatletter
\newcommand{\resetHeadWidth}{\fancy@setoffs}
\makeatother

\addto\captionsrussian{\renewcommand{\chaptername}{Билет №}}

\usepackage{pgfornament}
\newcommand{\framesize}{\textwidth}
\titleformat{\part}
  [display]
  {\centering\normalfont\Huge\bfseries}
  {%
    \mbox{\pgfornament[width=0.75\framesize,symmetry=h]{75}}
    \vskip 3pt
    \MakeUppercase{\Huge \partname\ \thepart}%
  }
  {3pt}
  {\huge\MakeUppercase}
  [%
  \mbox{\pgfornament[width=0.75\framesize]{75}}%
  ]

   
% page settings 
\parindent=0.6cm

%переносы в формулах после бинарных операций и отношений, 10000 - запрет, 0 - можно.
%\binoppenalty=10000
%\relpenalty=10000

% front page
\author{Андрей Диденко}
\title{Подготовка к ГОСу по МатАнализу \LaTeX
\thanks{Спасибо всем моим друзьям за поддержку в написании этого документа}
\date{10 Апреля 2016}}
  
% other settings
\pdfcompresslevel=9
\pdfobjcompresslevel=9

%own commands

\newtheoremstyle{note}%
{3pt}% Space above1
{3pt}% Space below1
{}% Body font
{}% Indent amount2
{\bfseries}% Theorem head font
{.}% Punctuation after theorem head
{.5em}% Space after theorem head3
{}% 

\theoremstyle{note}
\newtheorem{defn}{Определение}[chapter]
\renewcommand{\thedefn}{\arabic{defn}}
\newcommand{\theHdefn}{\thechapter.\arabic{defn}}

\newtheorem{defnn}{Определение} %штрихованное.
\renewcommand{\thedefnn}{\arabic{defn}'}
\newcommand{\theHdefnn}{\thechapter.\arabic{defnn}'}


\theoremstyle{plain}
\newtheorem{thm}{Теорема}[chapter]
\renewcommand{\thethm}{\arabic{thm}}
\newcommand{\theHthm}{\thechapter.\arabic{thm}}

\newtheorem{thmn}{Теорема}[chapter] %штрихованное.
\renewcommand{\thethmn}{\arabic{thm}'}
\newcommand{\theHthmn}{\thechapter.\arabic{thmn}'}


\newtheorem{cons}{Следствие}[chapter]
\renewcommand{\thecons}{\arabic{cons}}
\newcommand{\theHcons}{\thechapter.\arabic{cons}}

\newtheorem{consn}{Cледствие}[chapter] %штрихованное.
\renewcommand{\theconsn}{\arabic{cons}'}
\newcommand{\theHconsn}{\thechapter.\arabic{consn}'}


\newtheorem{lemm}{Лемма}[chapter]
\renewcommand{\thelemm}{\arabic{lemm}}
\newcommand{\theHlemm}{\thechapter.\arabic{lemm}}

\newtheorem{lemmn}{Лемма}[chapter] %штрихованное.
\renewcommand{\thelemmn}{\arabic{lemm}'}
\newcommand{\theHlemmn}{\thechapter.\arabic{lemmn}'}
  
\newtheorem{exmpl}{Пример}[chapter]
\renewcommand{\theexmpl}{\arabic{exmpl}}
\newcommand{\theHexmpl}{\thechapter.\arabic{exmpl}}

\newtheorem{stt}{Утверждение}[chapter]
\renewcommand{\thestt}{\arabic{stt}}
\newcommand{\theHstt}{\thechapter.\arabic{stt}}

\newtheorem{exerc}{Упражнение}[chapter]
\renewcommand{\theexerc}{\arabic{exerc}}
\newcommand{\theHexerc}{\thechapter.\arabic{exerc}}

\newtheorem{axiome}{Аксиома}[chapter]
\renewcommand{\theaxiome}{\arabic{axiome}}
\newcommand{\theHaxiome}{\thechapter.\arabic{axiome}}

\newtheorem{axiomen}{Аксиома}[chapter] %штрихованное.
\renewcommand{\theaxiomen}{\arabic{axiome}'}
\newcommand{\theHaxiomen}{\thechapter.\arabic{axiomen}'}

\newtheorem*{notion}{Замечание}

\numberwithin{equation}{chapter}
\renewcommand{\theequation}{\arabic{equation}}
\newcommand{\theHequation}{\thechapter.\arabic{equation}}

\newenvironment{solution}
  {\begin{proof}[Решение.]}
  {\end{proof}}

%\renewcommand\qedsymbol{$\triangle$}

%special mention

\usepackage[breaklinks,pdftex,hyperindex,unicode]{hyperref}	
\hypersetup{
  pdftitle           = {\texorpdfstring{GOS Book Matan}{GOS Book Matan}},
  pdfauthor          = {Didenko Andre},
  pdfsubject         = {Matan},
  pdfstartview       = {FitH},
  pdfborder          = {0 0 0},
  bookmarksopen      = true,
  bookmarksnumbered  = true,
  bookmarksopenlevel = 2,
  colorlinks = true,     
  		linkcolor  = darkblue, 
  		urlcolor = Purplemountainmajesty
}

%!!!conflicting order of packages
\usepackage{extarrows}
\usepackage{rmathbr}

%http://www.ctan.org/pkg/embrac
%чтобы скобки были прямыми во всем документе, и не поддавались \textit. Однако не распространяется на теоремы и окружения.
\usepackage{embrac}

% создать отдельное оглавнение, у маленькой штучки. Уточни значение числа 1.
\newcommand\DoToC{%
  \startcontents
  \printcontents{}{1}{\textbf{Contents}\vskip3pt\hrule\vskip5pt}
  \vskip3pt\hrule\vskip5pt
}

% чтобы фильтровать warnings.
\usepackage{silence}
